<template>
  <div class="warper">
    <div class="head">
      <span class="head-back iconfont" @click="$router.back(-1)">
        &#xe601;
      </span>
      <h3 class="head-title">管理收货地址</h3>
      <router-link :to="{ path: '/setAddress/-1' }">
        <span class="head-create"> 新建</span>
      </router-link>
    </div>
    <div class="address">
      <h1 class="address-tip" v-if="Object.keys(addressList).length === 0">
        暂无收获地址
      </h1>
      <template v-else>
        <h1 class="address-title">我的收获地址</h1>
        <div class="address-list">
          <div
            class="address-list-item"
            v-for="(item, index) in addressList"
            :key="item + index"
          >
            <div class="address-contact">
              <div class="address-contact-user">姓名：{{ item.uesrName }}</div>
              <div class="address-contact-phone">
                联系方式：{{ item.phone }}
              </div>
            </div>
            <div class="address-details">
              地址：{{ item.city }}
              {{ item.community }}
              {{ item.floorNumber }}
            </div>
            <router-link :to="`/setAddress/${index}`">
              <span class="address-icon iconfont">&#xe646;</span>
            </router-link>
          </div>
        </div>
      </template>
    </div>
  </div>
</template>

<script>
import { useStore } from "vuex";

// //选择地址逻辑
// const useChooseAddressEffect = () => {
//     const handleChooseAddress=()=>{

//     }
// }
export default {
  name: "MyAddressList",
  setup() {
    const store = useStore();
    const addressList = store.state.addressList;
    return { addressList };
  },
};
</script>

<style lang="scss" scoped>
@import "../../style/viriablles.scss";
.head {
  display: flex;
  justify-content: space-between;
  padding: 11rem 18rem;
  &-title {
    font-size: 16rem;
    color: $content-fontColor;
  }
  &-create {
    color: $darkColor;
  }
}
.address {
  &-tip {
    text-align: center;
    font-size: 20rem;
    color: $hightlight-fontColor;
  }
  &-title {
    font-size: 18rem;
    margin: 16rem 0 12rem 18rem;
  }
  &-list {
    position: absolute;
    left: 18rem;
    right: 18rem;
    &-item {
      position: relative;
      padding: 16rem;
      margin-bottom: 16rem;
      border-radius: 4rem;
      color: $content-fontColor;
      background: $bgColor;
      box-shadow: 0rem -1rem 4rem 1rem rgba($color: #000000, $alpha: 0.1);
    }
  }

  &-contact {
    display: flex;
    width: 260rem;
    font-size: 14rem;
    color: $light-fontColor;
    &-phone {
      flex: 1;
      text-align: center;
    }
  }
  &-details {
    margin-top: 6rem;
    max-width: 260rem;
    font-size: 14rem;
    line-height: 20rem;
  }
  &-icon {
    position: absolute;
    top: 50%;
    right: 18rem;
    transform: translateY(-50%);
    font-size: 18rem;
  }
}
</style>